\hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp}{}\doxysection{SFML-\/2.5.1/examples/island/\+Island.cpp File Reference}
\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp}\index{SFML-\/2.5.1/examples/island/Island.cpp@{SFML-\/2.5.1/examples/island/Island.cpp}}
{\ttfamily \#include \char`\"{}stb\+\_\+perlin.\+h\char`\"{}}\newline
{\ttfamily \#include $<$SFML/\+Graphics.\+hpp$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$deque$>$}\newline
{\ttfamily \#include $<$sstream$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$cstring$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ad63bc7e124b44adf37ea9e97fa1bf581}{STB\+\_\+\+PERLIN\+\_\+\+IMPLEMENTATION}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a58030615808181acc26b9ea47e0405ef}{thread\+Function}} ()
\begin{DoxyCompactList}\small\item\em Worker thread entry point. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a7f813e30ba292a1be5959dffd26a63c1}{generate\+Terrain}} (\mbox{\hyperlink{classsf_1_1_vertex}{sf\+::\+Vertex}} $\ast$buffer)
\begin{DoxyCompactList}\small\item\em Terrain generation entry point. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\begin{DoxyCompactList}\small\item\em Entry point of application. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_aef9257df379ba9fe79102d14dee5cdf9}{get\+Elevation}} (float x, float y)
\begin{DoxyCompactList}\small\item\em Get the terrain elevation at the given coordinates. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a30c20a2787406000d031098087cd6744}{get\+Moisture}} (float x, float y)
\begin{DoxyCompactList}\small\item\em Get the terrain moisture at the given coordinates. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a65a1015eb90d87c84aceccaf36191cd7}{get\+Lowlands\+Terrain\+Color}} (float moisture)
\begin{DoxyCompactList}\small\item\em Get the lowlands terrain color for the given moisture. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a6ca3410461a3c4cebfd5542cc20e1b18}{get\+Highlands\+Terrain\+Color}} (float elevation, float moisture)
\begin{DoxyCompactList}\small\item\em Get the highlands terrain color for the given elevation and moisture. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a44ec648e02c291ec5ed3779cbdbd9c92}{get\+Snowcap\+Terrain\+Color}} (float elevation, float moisture)
\begin{DoxyCompactList}\small\item\em Get the snowcap terrain color for the given elevation and moisture. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a1ad42f0af617e224034fd49c16c47927}{get\+Terrain\+Color}} (float elevation, float moisture)
\begin{DoxyCompactList}\small\item\em Get the terrain color for the given elevation and moisture. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacesf_a80cea3c46537294fd1d8d428566ad8b2}{sf\+::\+Vector2f}} \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a15541afd9ffe894778a3cc084cec16d6}{compute\+Normal}} (int x, int y, float left, float right, float bottom, float top)
\begin{DoxyCompactList}\small\item\em Compute a compressed representation of the surface normal based on the given coordinates, and the elevation of the 4 adjacent neighbours. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ae562e6fdcd2292b778c8b88369c9290d}{process\+Work\+Item}} (std\+::vector$<$ \mbox{\hyperlink{classsf_1_1_vertex}{sf\+::\+Vertex}} $>$ \&vertices, const Work\+Item \&work\+Item)
\begin{DoxyCompactList}\small\item\em Process a terrain generation work item. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ad63bc7e124b44adf37ea9e97fa1bf581}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ad63bc7e124b44adf37ea9e97fa1bf581}} 
\index{Island.cpp@{Island.cpp}!STB\_PERLIN\_IMPLEMENTATION@{STB\_PERLIN\_IMPLEMENTATION}}
\index{STB\_PERLIN\_IMPLEMENTATION@{STB\_PERLIN\_IMPLEMENTATION}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{STB\_PERLIN\_IMPLEMENTATION}{STB\_PERLIN\_IMPLEMENTATION}}
{\footnotesize\ttfamily \#define STB\+\_\+\+PERLIN\+\_\+\+IMPLEMENTATION}



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00005}{5}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a15541afd9ffe894778a3cc084cec16d6}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a15541afd9ffe894778a3cc084cec16d6}} 
\index{Island.cpp@{Island.cpp}!computeNormal@{computeNormal}}
\index{computeNormal@{computeNormal}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{computeNormal()}{computeNormal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacesf_a80cea3c46537294fd1d8d428566ad8b2}{sf\+::\+Vector2f}} compute\+Normal (\begin{DoxyParamCaption}\item[{int}]{x,  }\item[{int}]{y,  }\item[{float}]{left,  }\item[{float}]{right,  }\item[{float}]{bottom,  }\item[{float}]{top }\end{DoxyParamCaption})}



Compute a compressed representation of the surface normal based on the given coordinates, and the elevation of the 4 adjacent neighbours. 



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00400}{400}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a7f813e30ba292a1be5959dffd26a63c1}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a7f813e30ba292a1be5959dffd26a63c1}} 
\index{Island.cpp@{Island.cpp}!generateTerrain@{generateTerrain}}
\index{generateTerrain@{generateTerrain}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{generateTerrain()}{generateTerrain()}}
{\footnotesize\ttfamily void generate\+Terrain (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsf_1_1_vertex}{sf\+::\+Vertex}} $\ast$}]{buffer }\end{DoxyParamCaption})}



Terrain generation entry point. 

This queues up the generation work items which the worker threads dequeue and process. 

Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00561}{561}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_aef9257df379ba9fe79102d14dee5cdf9}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_aef9257df379ba9fe79102d14dee5cdf9}} 
\index{Island.cpp@{Island.cpp}!getElevation@{getElevation}}
\index{getElevation@{getElevation}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{getElevation()}{getElevation()}}
{\footnotesize\ttfamily float get\+Elevation (\begin{DoxyParamCaption}\item[{float}]{x,  }\item[{float}]{y }\end{DoxyParamCaption})}



Get the terrain elevation at the given coordinates. 



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00266}{266}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a6ca3410461a3c4cebfd5542cc20e1b18}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a6ca3410461a3c4cebfd5542cc20e1b18}} 
\index{Island.cpp@{Island.cpp}!getHighlandsTerrainColor@{getHighlandsTerrainColor}}
\index{getHighlandsTerrainColor@{getHighlandsTerrainColor}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{getHighlandsTerrainColor()}{getHighlandsTerrainColor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} get\+Highlands\+Terrain\+Color (\begin{DoxyParamCaption}\item[{float}]{elevation,  }\item[{float}]{moisture }\end{DoxyParamCaption})}



Get the highlands terrain color for the given elevation and moisture. 



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00335}{335}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a65a1015eb90d87c84aceccaf36191cd7}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a65a1015eb90d87c84aceccaf36191cd7}} 
\index{Island.cpp@{Island.cpp}!getLowlandsTerrainColor@{getLowlandsTerrainColor}}
\index{getLowlandsTerrainColor@{getLowlandsTerrainColor}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{getLowlandsTerrainColor()}{getLowlandsTerrainColor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} get\+Lowlands\+Terrain\+Color (\begin{DoxyParamCaption}\item[{float}]{moisture }\end{DoxyParamCaption})}



Get the lowlands terrain color for the given moisture. 



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00315}{315}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a30c20a2787406000d031098087cd6744}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a30c20a2787406000d031098087cd6744}} 
\index{Island.cpp@{Island.cpp}!getMoisture@{getMoisture}}
\index{getMoisture@{getMoisture}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{getMoisture()}{getMoisture()}}
{\footnotesize\ttfamily float get\+Moisture (\begin{DoxyParamCaption}\item[{float}]{x,  }\item[{float}]{y }\end{DoxyParamCaption})}



Get the terrain moisture at the given coordinates. 



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00296}{296}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a44ec648e02c291ec5ed3779cbdbd9c92}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a44ec648e02c291ec5ed3779cbdbd9c92}} 
\index{Island.cpp@{Island.cpp}!getSnowcapTerrainColor@{getSnowcapTerrainColor}}
\index{getSnowcapTerrainColor@{getSnowcapTerrainColor}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{getSnowcapTerrainColor()}{getSnowcapTerrainColor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} get\+Snowcap\+Terrain\+Color (\begin{DoxyParamCaption}\item[{float}]{elevation,  }\item[{float}]{moisture }\end{DoxyParamCaption})}



Get the snowcap terrain color for the given elevation and moisture. 



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00358}{358}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a1ad42f0af617e224034fd49c16c47927}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a1ad42f0af617e224034fd49c16c47927}} 
\index{Island.cpp@{Island.cpp}!getTerrainColor@{getTerrainColor}}
\index{getTerrainColor@{getTerrainColor}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{getTerrainColor()}{getTerrainColor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsf_1_1_color}{sf\+::\+Color}} get\+Terrain\+Color (\begin{DoxyParamCaption}\item[{float}]{elevation,  }\item[{float}]{moisture }\end{DoxyParamCaption})}



Get the terrain color for the given elevation and moisture. 



Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00379}{379}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{Island.cpp@{Island.cpp}!main@{main}}
\index{main@{main}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Entry point of application. 

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_application}{Application}} exit code 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00080}{80}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ae562e6fdcd2292b778c8b88369c9290d}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_ae562e6fdcd2292b778c8b88369c9290d}} 
\index{Island.cpp@{Island.cpp}!processWorkItem@{processWorkItem}}
\index{processWorkItem@{processWorkItem}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{processWorkItem()}{processWorkItem()}}
{\footnotesize\ttfamily void process\+Work\+Item (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classsf_1_1_vertex}{sf\+::\+Vertex}} $>$ \&}]{vertices,  }\item[{const Work\+Item \&}]{work\+Item }\end{DoxyParamCaption})}



Process a terrain generation work item. 

Use the vector of vertices as scratch memory and upload the data to the vertex buffer when done. 

Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00425}{425}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

\mbox{\Hypertarget{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a58030615808181acc26b9ea47e0405ef}\label{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_a58030615808181acc26b9ea47e0405ef}} 
\index{Island.cpp@{Island.cpp}!threadFunction@{threadFunction}}
\index{threadFunction@{threadFunction}!Island.cpp@{Island.cpp}}
\doxysubsubsection{\texorpdfstring{threadFunction()}{threadFunction()}}
{\footnotesize\ttfamily void thread\+Function (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Worker thread entry point. 

We use a thread pool to avoid the heavy cost of constantly recreating and starting new threads whenever we need to regenerate the terrain. 

Definition at line \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source_l00509}{509}} of file \mbox{\hyperlink{_s_f_m_l-2_85_81_2examples_2island_2_island_8cpp_source}{Island.\+cpp}}.

